<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="Kai Deng">
        <link rel="canonical" href="https://dengking.github.io/Post/Philosophy-level/">
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Philosophy-level - Kai Deng</title>
        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
        <script>
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

            ga('create', 'UA-27795084-5', 'mkdocs.org');
            ga('send', 'pageview');
        </script> 
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <!-- Expander button -->
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="../..">Kai Deng</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="../..">Home</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Post <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li >
    <a href="../Thoughts/">Thoughts</a>
</li>
                                    
<li class="active">
    <a href="./">Philosophy-level</a>
</li>
                                    
<li >
    <a href="../Philosophy-separation/">Philosophy-separation</a>
</li>
                                    
<li >
    <a href="../Abstraction/">Abstraction</a>
</li>
                                    
<li >
    <a href="../Model/">Model</a>
</li>
                                    
<li >
    <a href="../Architecture/">Architecture</a>
</li>
                                    
<li >
    <a href="../Time-and-space/">Time-and-space</a>
</li>
                                    
<li >
    <a href="../0-to-1-and-1-to-many/">0-to-1-and-1-to-many</a>
</li>
                                </ul>
                            </li>
                            <li >
                                <a href="../../about/">About</a>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li >
                                <a rel="next" href="../Thoughts/">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li >
                                <a rel="prev" href="../Philosophy-separation/">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li>
                                <a href="https://github.com/dengking/dengking.github.io"><i class="fa fa-github"></i> GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#_1">引言</a></li>
        <li class="main "><a href="#architecture">architecture</a></li>
            <li><a href="#architecture-of-computing-system">architecture of computing system</a></li>
            <li><a href="#architecture-of-compiler">architecture of compiler</a></li>
        <li class="main "><a href="#communication-protocol">Communication protocol</a></li>
            <li><a href="#osi-model">OSI model</a></li>
        <li class="main "><a href="#internet-protocol-suite">Internet protocol suite</a></li>
        <li class="main "><a href="#_3">以层次思想来思考</a></li>
            <li><a href="#_4">不同层次相互借用概念</a></li>
            <li><a href="#_5">不同层次使用不同语言</a></li>
        <li class="main "><a href="#_6">总结</a></li>
            <li><a href="#_7">抽象层</a></li>
            <li><a href="#_8">分层带来的价值</a></li>
        <li class="main "><a href="#pipeline">分层与栈、pipeline</a></li>
            <li><a href="#solution-stack">Solution stack</a></li>
        <li class="main "><a href="#virtual">virtual</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h1 id="_1">引言<a class="headerlink" href="#_1" title="Permanent link">Link</a></h1>
<p>计算机科学领域的<a href="https://en.wikipedia.org/wiki/Abstraction_layer">layers of abstraction</a>思想的可谓由来已久且影响深远，在计算机科学的方方面面我们都能够看到它的身影和影响，后面为了描述便利，将<a href="https://en.wikipedia.org/wiki/Abstraction_layer">layers of abstraction</a>思想简称为<strong>分层思想</strong>。最能够体现<strong>分层思想</strong>的一个词是：hierarchy（层级），维基百科的<a href="https://en.wikipedia.org/wiki/Hierarchy">hierarchy</a>对hierarchy的总结是非常详细的，非常值得一读，从中我们可以看到，hierarchy在各个学科中有着广泛的应用：</p>
<blockquote>
<p>Hierarchy is an important concept in a wide variety of fields, such as <a href="https://en.wikipedia.org/wiki/Philosophy">philosophy</a>, <a href="https://en.wikipedia.org/wiki/Mathematics">mathematics</a>, <a href="https://en.wikipedia.org/wiki/Computer_science">computer science</a>, <a href="https://en.wikipedia.org/wiki/Organizational_theory">organizational theory</a>, <a href="https://en.wikipedia.org/wiki/Systems_theory">systems theory</a>, and the <a href="https://en.wikipedia.org/wiki/Social_sciences">social sciences</a> (especially <a href="https://en.wikipedia.org/wiki/Political_philosophy">political philosophy</a>).</p>
</blockquote>
<p>其实从这上诉论断中我们也可以倒推出：分层思想在各个学科中有着广泛的应用，其实如果往更深层次去思考的话，分层思想其实是一种结构化的思维，关于这个还需要进行一些阅读。</p>
<p>下面是我所总结的计算机科学的各个领域中分层的应用：</p>
<h1 id="architecture">architecture<a class="headerlink" href="#architecture" title="Permanent link">Link</a></h1>
<p>作为软件工程师，我们常常听到architecture（架构）这个词，并且有一个高端职位叫做architect（架构师）。软件或系统的架构为我们描述的系统的结构、组成部分、各部分之间的接口。分层思想对architecture影响体现在各种各样的<strong>层次化结构</strong>，比如</p>
<h2 id="architecture-of-computing-system">architecture of <a href="https://en.wikipedia.org/wiki/Computing">computing system</a><a class="headerlink" href="#architecture-of-computing-system" title="Permanent link">Link</a></h2>
<p>reference</p>
<h2 id="architecture-of-compiler">architecture of compiler<a class="headerlink" href="#architecture-of-compiler" title="Permanent link">Link</a></h2>
<p>reference</p>
<h3 id="_2">中间表示<a class="headerlink" href="#_2" title="Permanent link">Link</a></h3>
<p>编译器分为前段和后端，中间表示理解前段与后端。也可以说中间表示是两者之间的接口。</p>
<h1 id="communication-protocol"><a href="https://en.wikipedia.org/wiki/Communication_protocol">Communication protocol</a><a class="headerlink" href="#communication-protocol" title="Permanent link">Link</a></h1>
<p>各种各样的通信协议可以说是最最能够体现分层思想的了，在<a href="https://en.wikipedia.org/wiki/Communication_protocol">Communication protocol</a>的<a href="https://en.wikipedia.org/wiki/Communication_protocol#Protocol_design">Protocol design</a>章节中就总结了协议涉及的思想：<a href="https://en.wikipedia.org/wiki/Communication_protocol#Layering">Layering</a>。除此之外，参加：<a href="https://en.wikipedia.org/wiki/Hierarchical_internetworking_model">Hierarchical internetworking model</a>。</p>
<p>下面列举了几个常见协议，它们都能非常好地体现了分层思想：</p>
<h2 id="osi-model"><a href="https://en.wikipedia.org/wiki/OSI_model">OSI model</a><a class="headerlink" href="#osi-model" title="Permanent link">Link</a></h2>
<p><a href="https://en.wikipedia.org/wiki/OSI_model">OSI model</a>可以说是分层思想的最佳体现，下面是摘自<a href="https://en.wikipedia.org/wiki/OSI_model">OSI model</a>：</p>
<blockquote>
<p>The <strong>Open Systems Interconnection model</strong> (<strong>OSI model</strong>) is a <a href="https://en.wikipedia.org/wiki/Conceptual_model">conceptual model</a> that characterizes and standardizes the communication functions of a <a href="https://en.wikipedia.org/wiki/Telecommunication">telecommunication</a> or computing system without regard to its underlying internal structure and technology. Its goal is the interoperability of diverse communication systems with standard <a href="https://en.wikipedia.org/wiki/Communication_protocols">communication protocols</a>. The model partitions a communication system into <a href="https://en.wikipedia.org/wiki/Abstraction_layer">abstraction layers</a>. The original version of the model had seven layers.</p>
<p>A layer serves the layer above it and is served by the layer below it. </p>
</blockquote>
<p>上面这段话其实描述了<strong>分层</strong>所带来的好处：interoperability ，各层之间互相透明（隐藏内部结构和技术），通过约定好的<a href="https://en.wikipedia.org/wiki/Communication_protocols">communication protocols</a>进行交互。</p>
<p>OSI model by <a href="https://en.wikipedia.org/wiki/Abstraction_layer">layer</a></p>
<table>
<thead>
<tr>
<th align="center"></th>
<th align="center"><a href="https://en.wikipedia.org/wiki/Abstraction_layer">layer</a></th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">7</td>
<td align="center"><a href="https://en.wikipedia.org/wiki/Application_layer">Application layer</a></td>
</tr>
<tr>
<td align="center">6</td>
<td align="center"><a href="https://en.wikipedia.org/wiki/Presentation_layer">Presentation layer</a></td>
</tr>
<tr>
<td align="center">5</td>
<td align="center"><a href="https://en.wikipedia.org/wiki/Session_layer">Session layer</a></td>
</tr>
<tr>
<td align="center">4</td>
<td align="center"><a href="https://en.wikipedia.org/wiki/Transport_layer">Transport layer</a></td>
</tr>
<tr>
<td align="center">3</td>
<td align="center"><a href="https://en.wikipedia.org/wiki/Network_layer">Network layer</a></td>
</tr>
<tr>
<td align="center">2</td>
<td align="center"><a href="https://en.wikipedia.org/wiki/Data_link_layer">Data link layer</a></td>
</tr>
<tr>
<td align="center">1</td>
<td align="center"><a href="https://en.wikipedia.org/wiki/Physical_layer">Physical layer</a></td>
</tr>
</tbody>
</table>
<h1 id="internet-protocol-suite"><a href="https://en.wikipedia.org/wiki/Internet_protocol_suite">Internet protocol suite</a><a class="headerlink" href="#internet-protocol-suite" title="Permanent link">Link</a></h1>
<h1 id="_3">以层次思想来思考<a class="headerlink" href="#_3" title="Permanent link">Link</a></h1>
<p><strong>层次思想</strong>是计算机科学中的重要思想，它潜移默化地影响这计算机科学，在计算机科学中，如果我们以<strong>层次思想</strong>来思考，来分析各种系统，则问题会变得清晰。</p>
<h2 id="_4">不同层次相互借用概念<a class="headerlink" href="#_4" title="Permanent link">Link</a></h2>
<p>当我们站在计算机系统的不同层次来思考，我们会发现不同层次之间会存在着大量的相互概念借用。比如：</p>
<h3 id="example-one">example one<a class="headerlink" href="#example-one" title="Permanent link">Link</a></h3>
<p>不同层次描述本质上非常类似的事务有着不同的说法，比如在《<a href="https://github.com/dengking/Unix-like-operating-system/docs/Kernel/book-Understanding-the-Linux-Kernel/Summary/How-OS-run-01-OS-kernel-is-event-driven.md">How-OS-run-01-OS-kernel-is-event-driven</a>》中鄋总结的：</p>
<p>我们惊喜的发现站在计算机科学的不同的层次来描述本质上非常类似的事务有着不同的说法，下面对此进行了对比：</p>
<table>
<thead>
<tr>
<th>Hardware</th>
<th>Software</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://en.wikipedia.org/wiki/Interrupt">Interrupt-driven</a></td>
<td><a href="https://en.wikipedia.org/wiki/Event-driven_architecture">Event-driven architecture</a> / <a href="https://en.wikipedia.org/wiki/Event-driven_programming">Event-driven programming</a></td>
</tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/Interrupt">Interrupt</a></td>
<td><a href="https://en.wikipedia.org/wiki/Event_(computing)">Event (computing)</a></td>
</tr>
<tr>
<td><a href="https://en.wikipedia.org/wiki/Interrupt_handler">Interrupt handler</a>/<a href="https://en.wikipedia.org/wiki/Interrupt_handler">Interrupt service routine</a></td>
<td><a href="https://en.wikipedia.org/wiki/Event_(computing)#Event_handler">Event handler</a>/<a href="https://en.wikipedia.org/wiki/Callback_(computer_programming)">Callback function</a></td>
</tr>
</tbody>
</table>
<p>各种interrupt就是所谓的event。</p>
<h3 id="example-two">example two<a class="headerlink" href="#example-two" title="Permanent link">Link</a></h3>
<p>正在不同的层次来看待计算机科学=》不同层次相互借用相同概念-》不同层次相互透明（隐藏内部细节），通过接口来进行交互</p>
<h2 id="_5">不同层次使用不同语言<a class="headerlink" href="#_5" title="Permanent link">Link</a></h2>
<p>不同层次使用不同的语言：高级编程语言、中级编程语言、低级编程语言</p>
<p>不同层次的语言之间的转换</p>
<h1 id="_6">总结<a class="headerlink" href="#_6" title="Permanent link">Link</a></h1>
<p>分层，抽象，接口，这些是三个同义词。它们是贯穿了computer science和software engineering的思想</p>
<h2 id="_7">抽象层<a class="headerlink" href="#_7" title="Permanent link">Link</a></h2>
<p><a href="https://en.wikipedia.org/wiki/Abstraction_layer">Abstraction layer</a></p>
<h2 id="_8">分层带来的价值<a class="headerlink" href="#_8" title="Permanent link">Link</a></h2>
<h3 id="separation-of-concerns"><a href="https://en.wikipedia.org/wiki/Separation_of_concerns">Separation of concerns</a><a class="headerlink" href="#separation-of-concerns" title="Permanent link">Link</a></h3>
<h3 id="abstraction-computer-science"><a href="https://en.wikipedia.org/wiki/Abstraction_(computer_science)">Abstraction (computer science)</a><a class="headerlink" href="#abstraction-computer-science" title="Permanent link">Link</a></h3>
<h3 id="layer-object-oriented-design"><a href="https://en.wikipedia.org/wiki/Layer_(object-oriented_design)">Layer (object-oriented design)</a><a class="headerlink" href="#layer-object-oriented-design" title="Permanent link">Link</a></h3>
<h3 id="portability"><a href="https://en.wikipedia.org/wiki/Software_portability">Portability</a><a class="headerlink" href="#portability" title="Permanent link">Link</a></h3>
<p>如</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Operating_system#Diversity_of_operating_systems_and_portability">Diversity of operating systems and portability</a></li>
</ul>
<p>抽象层带来移植性</p>
<h3 id="_9">分层带来安全<a class="headerlink" href="#_9" title="Permanent link">Link</a></h3>
<p>在<a href="https://en.wikipedia.org/wiki/Kernel_(operating_system)">Kernel (operating system)</a>中有这样的描述：</p>
<blockquote>
<p><a href="https://en.wikipedia.org/wiki/Kernel_space">kernel space</a>. <a href="https://en.wikipedia.org/wiki/User_space">user space</a>. </p>
<p>This separation prevents user data and kernel data from interfering with each other and causing instability and slowness, as well as preventing malfunctioning application programs from crashing the entire operating system.</p>
</blockquote>
<p>分层带来隔离，进而带来安全</p>
<h3 id="modularity">分层带来<a href="https://en.wikipedia.org/wiki/Modular_programming">modularity</a><a class="headerlink" href="#modularity" title="Permanent link">Link</a></h3>
<p>在<a href="https://en.wikipedia.org/wiki/Kernel_(operating_system)">Kernel (operating system)</a>中有这样的描述</p>
<h1 id="pipeline">分层与栈、pipeline<a class="headerlink" href="#pipeline" title="Permanent link">Link</a></h1>
<p>一般，会将按照分层设计的系统称为栈，比如协议栈。有时候也会称为pipeline</p>
<h2 id="solution-stack"><a href="https://en.wikipedia.org/wiki/Solution_stack">Solution stack</a><a class="headerlink" href="#solution-stack" title="Permanent link">Link</a></h2>
<h1 id="virtual">virtual<a class="headerlink" href="#virtual" title="Permanent link">Link</a></h1>
<p>virtual是计算机科学中常常会出现的一个词，比如：</p>
<ul>
<li>virtual address</li>
<li>virtual method</li>
</ul>
<p>经过本文前面的分析，我们可以很快地知道：virtual也是一种抽象，一种分层，这种分层所带来的价值就是解耦。下面以virtual address来进行说明：</p>
<p>process在运行的时候使用virtual address，由CPU根据page table将virtual address翻译为physical address；与process直接使用physical address相比，这种设计多添加了一层：转换层。这种设计带来的价值是：它解耦了process的page和page的存储位置，具体来讲就是按照这种设计，page既可以位于RAM，也可以位于disk，而如果直接使用physical address的话，则process的page只能够位于RAM中。所以可以看出，virtual address解耦了process的page和page的存储位置。</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
