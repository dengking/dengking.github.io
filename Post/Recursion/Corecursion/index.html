



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Website of Kai">
      
      
        <link rel="canonical" href="https://dengking.github.io/Post/Recursion/Corecursion/">
      
      
        <meta name="author" content="Kai Deng">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.6.0">
    
    
      
        <title>[Corecursion](https://en.wikipedia.org/wiki/Corecursion) - Website of Kai</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.1b62728e.css">
      
      
    
    
      <script src="../../../assets/javascripts/modernizr.268332fc.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-27795084-5", "mkdocs.org")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#corecursion" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://dengking.github.io/" title="Website of Kai" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Website of Kai
            </span>
            <span class="md-header-nav__topic">
              
                [Corecursion](https://en.wikipedia.org/wiki/Corecursion)
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/dengking/dengking.github.io" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://dengking.github.io/" title="Website of Kai" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Website of Kai
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/dengking/dengking.github.io" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../.." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Post
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Post
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Thoughts/" title="Thoughts" class="md-nav__link">
      Thoughts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-3" type="checkbox" id="nav-2-3">
    
    <label class="md-nav__link" for="nav-2-3">
      Abstraction
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-3">
        Abstraction
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Abstraction/Abstraction/" title="Abstraction" class="md-nav__link">
      Abstraction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Abstraction/Abstraction-and-architecture/" title="Abstraction-and-architecture" class="md-nav__link">
      Abstraction-and-architecture
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Abstraction/Abstraction-and-architecture-and-layer/" title="Abstraction-and-architecture-and-layer" class="md-nav__link">
      Abstraction-and-architecture-and-layer
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Abstraction/Abstraction-and-model/" title="Abstraction-and-model" class="md-nav__link">
      Abstraction-and-model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Abstraction/Abstraction-and-relation/" title="Abstraction-and-relation" class="md-nav__link">
      Abstraction-and-relation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Abstraction/Abstraction-and-virtual/" title="Abstraction-and-virtual" class="md-nav__link">
      Abstraction-and-virtual
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-4" type="checkbox" id="nav-2-4">
    
    <label class="md-nav__link" for="nav-2-4">
      Language
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-4">
        Language
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Language/Language/" title="Language" class="md-nav__link">
      Language
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-5" type="checkbox" id="nav-2-5">
    
    <label class="md-nav__link" for="nav-2-5">
      Formal
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-5">
        Formal
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Formal/Formal/" title="Formal" class="md-nav__link">
      Formal
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-6" type="checkbox" id="nav-2-6">
    
    <label class="md-nav__link" for="nav-2-6">
      Turing
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-6">
        Turing
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../Turing/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Turing/Turing-completeness/" title="Turing-completeness" class="md-nav__link">
      Turing-completeness
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Unit/" title="Unit" class="md-nav__link">
      Unit
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Context/" title="Context" class="md-nav__link">
      Context
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Separation-and-independent/" title="Separation-and-independent.md" class="md-nav__link">
      Separation-and-independent.md
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Architecture/" title="Architecture" class="md-nav__link">
      Architecture
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Time-and-space/" title="Time-and-space" class="md-nav__link">
      Time-and-space
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../0-to-1-and-1-to-many/" title="0-to-1-and-1-to-many" class="md-nav__link">
      0-to-1-and-1-to-many
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Closure/" title="Closure" class="md-nav__link">
      Closure
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../Glossary/" title="Glossary" class="md-nav__link">
      Glossary
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../../about/" title="About" class="md-nav__link">
      About
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#factorial" class="md-nav__link">
    Factorial
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#fibonacci-sequence" class="md-nav__link">
    Fibonacci sequence
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#tree-traversal" class="md-nav__link">
    Tree traversal
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="corecursion"><a href="https://en.wikipedia.org/wiki/Corecursion">Corecursion</a><a class="headerlink" href="#corecursion" title="Permanent link">#</a></h1>
<p>共递归</p>
<p>In <a href="https://en.wikipedia.org/wiki/Computer_science">computer science</a>, <strong>corecursion</strong> is a type of operation that is <a href="https://en.wikipedia.org/wiki/Dual_(category_theory)">dual</a> to <a href="https://en.wikipedia.org/wiki/Recursion_(computer_science)">recursion</a>. Whereas recursion works <strong>analytically</strong>, starting on data further from a <strong>base case</strong> and breaking it down into smaller data and repeating until one reaches a base case, corecursion works <strong>synthetically</strong>, starting from a <strong>base case</strong> and building it up, iteratively producing data further removed from a base case. Put simply, <strong>corecursive algorithms</strong> use the data that they themselves produce, bit by bit, as they become available, and needed, to produce further bits of data. A similar but distinct concept is <a href="https://en.wikipedia.org/wiki/Generative_recursion#Structural_versus_generative_recursion"><em>generative recursion</em></a> which may lack a definite（确切的） "direction" inherent in corecursion and recursion.</p>
<blockquote>
<p>NOTE: recursion 和 corecursion 的计算方向是相反：对于一个 <a href="https://en.wikipedia.org/wiki/Recurrence_relation">recurrence relations</a> ，如<em>n! := n × (n - 1)!</em>.，recursion是从左至右，但是corecursion是从右至左，但是能够殊途同归
- recursion works <strong>analytically</strong> VS corecursion works <strong>synthetically</strong>
- recursion top-down VS corecursion bottom-up
- recursion reduce VS corecursion produce</p>
</blockquote>
<p>Where recursion allows programs to operate on arbitrarily complex data, so long as they can be reduced to simple data (base cases), corecursion allows programs to produce arbitrarily complex and potentially infinite data structures, such as <a href="https://en.wikipedia.org/wiki/Stream_(computing)">streams</a>, so long as it can be produced from simple data (<strong>base cases</strong>) in a sequence of <em>finite</em> steps. Where recursion may not terminate, never reaching a <strong>base state</strong>, corecursion starts from a <strong>base state</strong>, and thus produces subsequent steps deterministically, though it may proceed indefinitely (and thus not terminate under strict evaluation), or it may consume more than it produces and thus become non-<em>productive</em>. Many functions that are traditionally analyzed as recursive can alternatively, and arguably more naturally, be interpreted as <strong>corecursive functions</strong> that are terminated at a given stage, for example <a href="https://en.wikipedia.org/wiki/Recurrence_relation">recurrence relations</a> such as the factorial（阶乘）.</p>
<p><strong>Corecursion</strong> can produce both <a href="https://en.wikipedia.org/wiki/Finite_set">finite</a> and <a href="https://en.wikipedia.org/wiki/Infinite_set">infinite</a> <a href="https://en.wikipedia.org/wiki/Data_structure">data structures</a> as results, and may employ <a href="https://en.wikipedia.org/wiki/Self-reference">self-referential</a> data structures. <strong>Corecursion</strong> is often used in conjunction with <a href="https://en.wikipedia.org/wiki/Lazy_evaluation">lazy evaluation</a>, to produce only a finite subset of a potentially infinite structure (rather than trying to produce an entire infinite structure at once). Corecursion is a particularly important concept in <a href="https://en.wikipedia.org/wiki/Functional_programming">functional programming</a>, where corecursion and <a href="https://en.wikipedia.org/wiki/Codata_(computer_science)">codata</a> allow <a href="https://en.wikipedia.org/wiki/Total_language">total languages</a> to work with infinite data structures.</p>
<blockquote>
<p>NOTE : python的generator就是Corecursion的最好的例子。</p>
</blockquote>
<h2 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">#</a></h2>
<p>Corecursion can be understood by contrast with recursion, which is more familiar. While corecursion is primarily of interest in functional programming, it can be illustrated using imperative programming, which is done below using the <a href="https://en.wikipedia.org/wiki/Generator_(computer_programming)">generator</a> facility in Python. In these examples <strong>local variables</strong> are used, and <a href="https://en.wikipedia.org/wiki/Assignment_(computer_science)">assigned values</a> imperatively (destructively), though these are not necessary in corecursion in pure functional programming. In pure functional programming, rather than assigning to <strong>local variables</strong>, these computed values form an invariable sequence, and prior values are accessed by self-reference (later values in the sequence reference earlier values in the sequence to be computed). The assignments simply express this in the imperative paradigm and explicitly specify where the computations happen, which serves to clarify the exposition.</p>
<h3 id="factorial">Factorial<a class="headerlink" href="#factorial" title="Permanent link">#</a></h3>
<p>A classic example of recursion is computing the <a href="https://en.wikipedia.org/wiki/Factorial">factorial</a>（阶乘）, which is defined recursively by <em>0! := 1</em> and <em>n! := n × (n - 1)!</em>.</p>
<p>To <em>recursively</em> compute its result on a given input, a recursive function calls (a copy of) <em>itself</em> with a different ("smaller" in some way) input and uses the result of this call to construct its result. The recursive call does the same, unless the <em>base case</em> has been reached. Thus a <a href="https://en.wikipedia.org/wiki/Call_stack">call stack</a> develops in the process. For example, to compute <em>fac(3)</em>, this recursively calls in turn <em>fac(2)</em>, <em>fac(1)</em>, <em>fac(0)</em> ("winding up" the stack), at which point recursion terminates with <em>fac(0) = 1</em>, and then the <strong>stack unwinds</strong> in reverse order and the results are calculated on the way back along the <strong>call stack</strong> to the initial call frame <em>fac(3)</em> that uses the result of <em>fac(2) = 2</em> to calculate the final result as <em>3 × 2 = 3 × fac(2) =: fac(3)</em> and finally return <em>fac(3) = 6</em>. In this example a function returns a single value.</p>
<p>This <strong>stack unwinding</strong> can be explicated, defining the factorial <em>corecursively</em>, as an <a href="https://en.wikipedia.org/wiki/Iteration">iterator</a>, where one <em>starts</em> with the case of $ 1=:0! $, then from this starting value constructs factorial values for increasing numbers <em>1, 2, 3...</em> as in the above recursive definition with "time arrow" reversed, as it were, by reading it <em>backwards</em> as $ n!\times (n+1)=:(n+1)! $. The corecursive algorithm thus defined produces a <em>stream</em> of <em>all</em> factorials. This may be concretely implemented as a <a href="https://en.wikipedia.org/wiki/Generator_(computer_programming)">generator</a>. Symbolically, noting that computing next factorial value requires keeping track of both <em>n</em> and <em>f</em> (a previous factorial value), this can be represented as:</p>
<p>$ n,f=(0,1):(n+1,f\times (n+1)) $</p>
<p>In Python, a recursive factorial function can be defined as: </p>
<pre><code class="python">def factorial(n):
    if n == 0:
        return 1
    else:
        return n * factorial(n - 1)
</code></pre>

<p>This could then be called for example as <code>factorial(5)</code> to compute <em>5!</em>.</p>
<p>A corresponding corecursive generator can be defined as:</p>
<pre><code class="python">def factorials():
    n, f = 0, 1
    while True:
        yield f
        n, f = n + 1, f * (n + 1)
</code></pre>

<p>This generates an infinite stream of factorials in order; a finite portion of it can be produced by:</p>
<pre><code class="python">def n_factorials(k):
    n, f = 0, 1
    while n &lt;= k:
        yield f
        n, f = n + 1, f * (n + 1)
</code></pre>

<p>This could then be called to produce the factorials up to <em>5!</em> via:</p>
<pre><code class="python">for f in n_factorials(5):
    print(f)
</code></pre>

<p>If we're only interested in a certain factorial, just the last value can be taken, or we can fuse the production and the access into one function,</p>
<pre><code class="python">def nth_factorial(k):
    n, f = 0, 1
    while n &lt; k:
        n, f = n + 1, f * (n + 1)
    yield f
</code></pre>

<p>As can be readily seen here, this is practically equivalent (just by substituting <code>return</code> for the only <code>yield</code> there) to the <strong>accumulator argument technique</strong> for <a href="https://en.wikipedia.org/wiki/Tail_call">tail recursion</a>, unwound into an explicit loop. Thus it can be said that the concept of corecursion is an explication of the embodiment of iterative computation processes by recursive definitions, where applicable.</p>
<p>因此，可以这样说，协递归的概念是通过递归定义来解释迭代计算过程的体现。</p>
<h3 id="fibonacci-sequence">Fibonacci sequence<a class="headerlink" href="#fibonacci-sequence" title="Permanent link">#</a></h3>
<p>In the same way, the <a href="https://en.wikipedia.org/wiki/Fibonacci_sequence">Fibonacci sequence</a> can be represented as:</p>
<p>$ a,b=(0,1):(b,a+b) $</p>
<p>Note that because the Fibonacci sequence is a <a href="https://en.wikipedia.org/wiki/Recurrence_relation">recurrence relation</a> of order 2, the corecursive relation must track two successive terms, with the $ (b,-) $ corresponding to shift forward by one step, and the $ (-,a+b) $ corresponding to computing the next term. This can then be implemented as follows (using <a href="https://en.wikipedia.org/wiki/Parallel_assignment">parallel assignment</a>):</p>
<pre><code class="python">def fibonacci_sequence():
    a, b = 0, 1
    while True:
        yield a
        a, b = b, a + b
</code></pre>

<p>In Haskell,</p>
<pre><code class="haskell"> map fst ( (\(a,b) -&gt; (b,a+b)) `iterate` (0,1) )
</code></pre>

<h3 id="tree-traversal">Tree traversal<a class="headerlink" href="#tree-traversal" title="Permanent link">#</a></h3>
<p><a href="https://en.wikipedia.org/wiki/Tree_traversal">Tree traversal</a> via a <a href="https://en.wikipedia.org/wiki/Depth-first">depth-first</a> approach is a classic example of <strong>recursion</strong>. Dually, <a href="https://en.wikipedia.org/wiki/Breadth-first">breadth-first</a> traversal can very naturally be implemented via <strong>corecursion</strong>.</p>
<p>Without using recursion or corecursion specifically, one may traverse a tree by starting at the <strong>root node</strong>, placing its child nodes in a <strong>data structure</strong>, then iterating by removing node after node from the <strong>data structure</strong> while placing each removed node's <strong>children</strong> back into that data structure.[<a href="https://en.wikipedia.org/wiki/Corecursion#cite_note-2">b]</a> If the data structure is a <a href="https://en.wikipedia.org/wiki/Stack_(abstract_data_type)">stack</a> (LIFO), this yields <strong>depth-first traversal</strong>, and if the data structure is a <a href="https://en.wikipedia.org/wiki/Queue_(abstract_data_type)">queue</a> (FIFO), this yields <strong>breadth-first traversal</strong>.</p>
<blockquote>
<p>NOTE: 在不使用recursion或者corecursion的时候，我们如果想要遍历一棵树，则需要借助于一个data structure来实现；</p>
</blockquote>
<p>Using <strong>recursion</strong>, a (post-order)[<a href="https://en.wikipedia.org/wiki/Corecursion#cite_note-3">c]</a> <strong>depth-first traversal</strong> can be implemented by starting at the root node and recursively traversing each child subtree in turn (the subtree based at each child node) – the second child subtree does not start processing until the first child subtree is finished. Once a leaf node is reached or the children of a branch node have been exhausted, the node itself is visited (e.g., the value of the node itself is outputted). In this case, the <strong>call stack</strong> (of the <strong>recursive functions</strong>) acts as the <strong>stack</strong> that is iterated over.</p>
<p>Using <strong>corecursion</strong>, a <strong>breadth-first traversal</strong> can be implemented by starting at the root node, outputting its value,[<a href="https://en.wikipedia.org/wiki/Corecursion#cite_note-4">d]</a> then <strong>breadth-first traversing</strong> the subtrees – i.e., passing on the <em>whole list</em> of subtrees to the next step (not a single subtree, as in the recursive approach) – at the next step outputting the value of all of their root nodes, then passing on their child subtrees, etc.[<a href="https://en.wikipedia.org/wiki/Corecursion#cite_note-5">e]</a> In this case the <strong>generator function</strong>, indeed the output sequence itself, acts as the <strong>queue</strong>. As in the factorial example (above), where the auxiliary information of the index (which step one was at, <em>n</em>) was pushed forward, in addition to the actual output of <em>n</em>!, in this case the auxiliary information of the remaining subtrees is pushed forward, in addition to the actual output. Symbolically:</p>
<p>$ v,t=([],[FullTree]):(RootValues(t),ChildTrees(t)) $</p>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.808e90bb.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script>
      
    
  </body>
</html>